---
title: Typora+PicGo+github图床
categories:
  - 其他
tags:
  - Others
toc_number: true
date: 2021-08-17
---

**Typora**：一个简单的markdown编辑器（[下载地址](https://typora.io/)）；

**PicGo**：一个用于快速上传图片并获取图片 URL 链接的工具（[下载地址](https://github.com/Molunerfinn/PicGo/releases)）；

**github图床**：建一个公开仓库做图床（私人仓库似乎会出现问题），免费。

具体步骤如下：

### 一、创建github图床

1.  Crearte Repository
   注意选择**Public**类型

2.  生成一个token用于操作这个repository
   点击个人主页的settings → Developer settings → Personal access tokens → Generate new token → 填写Token description → Select scopes勾选repo → Generate token

   复制这个token,PicGo中图床设置要用

### 二、下载PicGo配置图床
1.  [PicGo下载 地址](https://github.com/Molunerfinn/PicGo/releases)
2.  配置图床
   PicGo 本体支持的图床有：`七牛图床` v1.0，`腾讯云 COS v4\v5 版本` v1.1 & v1.5.0，`又拍云` v1.2.0，`GitHub` v1.5.0，`SM.MS V2` v2.3.0-beta.0，`阿里云 OSS` v1.6.0，`Imgur` v1.6.0
   这里选择Github进行配置：
   - 仓库名：格式为 `username/repo`
   - 分支名：`master`
   - Token：刚刚复制的那个
   - 存储路径：例如 `img/` ，这样会在仓库中创建一个img文件夹存放
   - 自定义域名：可以使用 `jsDelivr` 加速访问，设置为 `https://cdn.jsdelivr.net/gh/用户名/图床仓库名`

### 三、设置Typora
左上角 `文件`→\\rightarrow→`偏好设置`→\\rightarrow→`图像`
- 设置插入图片时，`上传图片`；勾选 `对本地位置的图片应用上述规则`;
- 上传服务设定：上传服务选择 `PicGo(app)`，在PicGo路径中填写安装目录，比如:`D:\Program Files\PicGo\PicGo.exe`
- 点击验证图片上传选项，可将typora图标上传到仓库

### 四、使用
截图直接粘贴在Typecho里面可以自动上传到图床啦！爽歪歪！谁用谁知道！

### 五、踩坑
对于时常出现的**上传图片失败，错误信息：Failed to fetch**问题。原因如下：

Typora 对接的上传服务来自于 PicGo v2.2.0+提供的 PicGo-Server 的功能，它是一个小型的 HTTP 服务器，会默认开启 **36677**端口来监听上传的请求。而 Typora 则会往 36677 端口发送请求来上传图片。所以如果你的 PicGo 版本过低或者 PicGo-Server 功能没有开启，或者端口不是 36677，都无法通过 Typora 的这个功能上传图片。

所以当出现Failed to fetch问题时，大概率就是端口不对应，只要在"PicGo设置"里面打开"设置Server"，将监听端口设置为**36677**就OK啦！
